---
layout: post
title: "Optional이란?"
date: 2019-02-21 00:30:06
description: Optional에 대해 정의
tags: 
 - ios
comments: true
---

## Optional이란

### optional은 enum이다. (An Optional is just an enum.)

>Swift
{:.filename}
{% highlight swift %}

enum Optional<T> // <T> is a generic like as in Array<T>
    case None
    case Some(T)
}

{% endhighlight %}

> Array와 같은 일반적인 타입이다. <T>의 의미는 옵셔널이 모든 타입의 옵셔널이 될 수 있다는 뜻

### ? and !

>Swift
{:.filename}
{% highlight swift %}

let x: String? = nil
... is ...
let x = Optional<String>.None

let x: String? = "hello"
... is ...
let x = Optional<String>.Some("hello")

var y = x!
... is ...
switch x {
    case Some(let value): y = value
    case None: // raise an exception
}

{% endhighlight %}

> 추출을 한다면 x에 대한 switch가 된다. (옵셔널을 추출해서 연관값을 가져오는 방법이 switch)
> x의 switch를 만들어서 Some case에는 let value를 해서 연관값을 가져오도록하고, y에 그 값을 넣어준다.
> None이 되는 경우는 앱이 충돌한다. (할당되지 않은 옵셔널을 추출하는 것은 충돌이 나게 되어있다.)

### if let 

>Swift
{:.filename}
{% highlight swift %}

let x: String? = ...
if let y = x {
    // do something with y
}

... is ...

switch x {
    case .Some(let y):
        // do something with y
    case .None:
        break;
}

{% endhighlight %}

> `if let`을 하는 경우에는 x에 switch 조건을 주되 
> Some case에서는 저 y값을 가져와서 y를 사용하는 코드를 넣어주면 if let이 여기서 동작하게 된다.
> None case에서는 switch 밖으로 나가서 아무것도 하지 않는다.

>Swift
{:.filename}
{% highlight swift %}

{% endhighlight %}






