---
layout: post
title: "인프라 엔지니어의 교과서 정리 "
date: 2018-02-15 19:40:06
description: 인프라 엔지니어의 교과서 정리
tags: 
 - spring
comments: true
---


## 전체 목록
- [1장 인프라 엔지니어의 업무](#1장-인프라-엔지니어의-업무)
- [2장 서버](#2장-서버)
- [3장 운영체제](#3장-운영체제)
- [4장 네트워크](#4장-네트워크)
- [5장 스토리지](#5장-스토리지)
- [6장 구매 및 상담](#6장-구매-및-상담)
- [7장 데이터 센터](#7장-데이터-센터)
- [8장 솔루션과 보안](#8장-솔루션과-보안)
- [9장 인프라 운영](#9장-인프라-운영)
- [10장 대규모 인프라](#10장-대규모-인프라)
- [11장 인프라 엔지니어의 성장](#11장-인프라-엔지니어의-성장)

<hr>

## 1장. 인프라 엔지니어의 업무


## 2장. 서버

### 스케일 아웃과 스케일 업
- 스케일 아웃
    - 서버의 수를 늘려서 수용량을 늘리는 방법
- 스케일 업
    - 메모리 증설 등 부품을 추가/교환하거나 상위 기종으로 교체해 서버 성능을 높이는 방법

### CPU 용어
- 소켓 수
    - CPU의 개수
- 코어 수
    - CPU의 주요 계산 부분, 복수의 코어가 있는 것을 `멀티코어` 라고 한다.
- 스레드 수
    - 하나의 코어에서 처리할 수 있는 수(하이퍼스레딩 기능이 있으면 코어 수가 배가 된다.)
- 동작 주파수
    - 1초당 클럭 수. 동작 주파수가 높을수록 처리 속도가 빨리지지만, 전력 효율이 나빠지고 발열도 증가한다.
- 캐시
    - CPU와 메인 메모리 사이에 캐시 메모리라는 빠른 속도의 메모리가 있다. 캐시 메모리에 자주 액세스하는 데이터를 저장해서 상대적으로 느린 메인 메모리로의 액세스를 줄여 CPU의 처리 성능을 높인다.
- 하이퍼스레딩
    - 하나의 코어로 두 개의 처리를 실행할 수 있는 기술(인텔 CPU에서 사용하는 용어)
- 터보부스트 기술
    - CPU의 속도를 자동으로 기준 클럭보다 빠르게 동작시키는 기능. 전혀 일을 하지 않는 코어가 있을 때, 일을 하고 있는 코어를 클럭 업 시키는 기술(인텔 CPU에서 사용하는 용어)

### 클라우드
- SaaS
    - Software as a Service
    - 애플리케이션을 서비스로서 제공한다.
- PaaS
    - Platform as a Services
    - 애플리케이션 실행 환경을 서비스로서 제공한다.
- IaaS
    - Infrastructure as a Service
    - 시스템 인프라를 서비스로서 제공한다.

- IaaS의 특징
    - 사내에 물리 서버를 두지 않아도 사용할 수 있으므로, 물리 서버를 관리하는 엔지니어가 필요 없다.
    - 이용 신청을 하면, 단기간에 운영체제가 설치된 상태로 바로 사용할 수 있다.
    - 사내에 물리서버를 두지 않으므로, 물리적 제약을 의식하지 않고 이용하고 싶은 만큼 서버를 증강할 수 있다.
    - 사용한 만큼 비용이 발생하는 종량과금제다.
    - 사내에 서버 자산을 보유하지 않으므로, 서버를 살 때 발생하는 감가상각 처리가 필요 없고 클라우드 이용료는 그대로 비용 처리할 수 있다.



## 3장 운영체제



## 4장 네트워크

### 네트워크 장비 선택

- 라우터의 역할
    - 수신한 패킷을 적절한 경로로 전송하는 네트워크 장비
    - 네트워크를 논리적으로 나누는 장비

### L2와 L3 스위치의 역할
- L2 스위치
    - 업무용 스위칭 허브
    - L2 스위치에 프레임이 들어오면, L2 스위치는 목적지가 MAC 주소를 보고 적절한 포트로 프레임을 전송(스위칭)한다. 
    - L2 스위치 내에 기술된 MAC 주소 테이블(목적지 정보)에 해당 MAC 주소가 없을 때는 LAN 내 전체에 브로드캐스트해서 응답이 있는 포트로 전송한다.

- L3 스위치
    - 라우터 기능이 추가된 L2스위치
    - 네트워크 상에 흘러가는 패킷이 들어오면 L3 스위치는 목적지 IP 주소를 보고 적절한 포트로 패킷을 전송(라우팅)한다.
    - L3 스위치 내에 적힌 라우팅 테이블에 해당하는 IP 주소 혹은 네트워크 주소가 없을 때는 기본 게이트웨이에 연결되는 포트로 전송한다.

- L4 스위치, L7 스위치(로드 밸런서)
    - L4/L7 스위치는 로드 밸런서(부하 분산 기능)가 달린 L3 스위치.
    - 부하를 분산할 때 서버가 살았는지 죽었는지 감시한다.

- L4 스위치(로드 밸런서)
    - IP와 TCP/UDP 포트를 보고 적절한 서버로 패킷을 전송


- L7 스위치(로드 밸런서)
    - URL을 보고 적절한 서버로 전송

### 네트워크 기본 용어 요점 정리

- TCP/IP
    - Transmission Control Protocol / Internet Protocol
    - 오늘날 인터넷에서 일반적으로 이용되는 프로토콜

- OSI 참조 모델
    - 국제표준화기구 <sub>ISO</sub> 에 의해 책정된 컴퓨터가 가져야 할 통신 기능을 계층 구조로 나눈 모델
    - 통신 기능(통신 프로토콜)을 일곱 개의 레이어로 나눠 정의하고 있다.
    - L2, L3 스위치 등에서 L2, L3란 OSI 참조 모델의 레이어를 가리킨다.

- 스위칭과 라우팅
    - LAN 안에서 L2 스위치를 통한 통신을 스위칭이라고 한다.
    - 반면, 라우터 혹은 L3 스위치를 통해 LAN과 LAN사이를 걸쳐 통신하는 것을 라우팅이라고 한다.

### 인터넷 연결

인터넷에 연결하기 위해선 라우터 혹은 L3스위치가 외부 네트워크 회선에 연결되어야 한다. 자사에서 ISP의 회선을 끌어오거나 데이터 센터가 제공하는 네트워크 서비스를 이용해 코어 스위티와 데이터 센터의 스위치를 연결하는 방법 등이 있다.


## 5장 스토리지

스토리지란 `데이터를 저장하는 장치`

- 로컬 스토리지(서버 내부의 저장 영역)
- 외부 스토리지(서버 외부의 저장 영역)
    - 서버에 직접 연결하는 것(DAS)
    - 네트워크를 통해 연결하는 것(NAS, SAN)

- 로컬 스토리지(서버 내부의 저장 영역)
    - 외부 스토리지를 사용하지 않으므로 설치 공간은 절약할 수 있다.
    - 외부 스토리지를 이용할 때와 비교하면 설치할 수 있는 디스크 개수와 확장성이 적어진다.

- 외부 스토리지(서버 외부의 저장 영역)
    - DAS
        - Direct Attached Storage
        - 서버에 직접 연결하는 스토리지 장비
        - 로컬 스토리지만으로 용량이 부족할 때 필요한 만큼 디스크 용량을 늘릴 수 있다. 
        - DAS에는 많은 디스크를 설치할 수 있으므로 스트라이핑 수가 많은 RAID로 구성하여 디스크 I/O 성능을 크게 높일 수 있다.
    
    - NAS
        - Network Attached Storage
        - 네트워크를 통해 여러 대의 서버가 액세스할 수 있는 스토리지
        - 여러 대의 서버에서 데이터를 공유할 때나 여러 대의 서버에서 발생하는 백업 및 로그 파일을 한 군데에 모으는 용도로 사용
    - SAN
        - Storage Area Network
        - 블록 단위의 데이터 스토리지 전용 네트워크
        - 고속 고품질 환경을 요구하는 환경에서 이용

### 외부 스토리지 이용

외부 스토리지를 도입하는 네 가지 동기
- 저장 영역을 많이 확보하고 싶다.
- 디스크 I/O 성능을 높인다.
- 스토리지를 통합해서 집중 관리한다.
- 복수의 서버에서 데이터 공유


### 스토리지의 고급 기능

- 씬 프로비저닝
    - Thin Provisioning
    - 물리 스토리지 용량보다 많은 논리 볼륨을 할당할 수 있는 기능

- 자동 계층화
    - 서로 다른 성능의 디스크를 조합해서 이용 빈도가 높은 데이터는 고가의 빠른 장비에, 이용 빈도가 낮은 데이터는 싸고 느린 장비에 자동으로 저장하는 기능
- 디둡
    - De-duplication
    - 스토리지를 백업할 때, 먼저 저장된 데이터가 있으면 그 데이터는 복사하지 않기 때문에 저장 영역을 절약할 수 있는 기능
    - `중복 제거 기능` 이라고도 부른다
- 스냅샷
    - 어떤 순간의 파일 시스템의 정지점을 순간적으로 보존해 두는 기능
    - 일반적으로 이용되는 구현 방식은 파일이 갱신될 때 마다 갱신 이력과 함께 갱신 전의 파일을 스냅샷용 스토리지 공간에 기록해 가는 방법
    - 결국 스냅샷이라고 해서 그 시점에서의 모든 파일을 다른 디스크에 복사하는 것이 아니라, 갱신 이력 정보를 관리함으로서 그 시점에서의 파일 시스템의 상황을 복원할 수 있는 기능이 된다.

## 6장 구매 및 상담

## 7장 데이터 센터

## 8장 솔루션과 보안

## 9장 인프라 운영

### 장애대응
- 핫스왑
    - 서비스를 가동한 채로 이중화된 부품 중 고장난 부품을 교환할 수 있는 기술
- ECC 기능
    - 이상을 감지하면 자동으로 보정해주는 기술

## 10장 대규모 인프라

## 11장 인프라 엔지니어의 성장

